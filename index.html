<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Aspen Dental Zebra Printing</title>
        <link rel="stylesheet" href="app.css" />
        <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <script type = "text/javascript">
            function printing_php(params)
            {
                var x = document.getElementById("myDIV");
                x.style.display = "block";
                document.getElementById("searchBar").value = '';
                
                var headstr = "<html><title></title><body>";
                var footstr = "</body></html>";
                var newstr = document.all.item(params).innerHTML;
                var oldstr = document.body.innerHTML;
               
                var h4 = document.getElementsByTagName("h4")[0].textContent;
                var p1 = document.getElementsByTagName("p")[0].textContent;
                var p2 = document.getElementsByTagName("p")[1].textContent;
                
                var list = "<h4 style = 'margin-top: 1px;'>"+h4+"</h4><p style = 'margin-top: -13px;'>"+p1+"</p><p style = 'margin-top: -10px;'>"+p2+"</p>";

                // console.log("data:", list)

                document.body.innerHTML = headstr + list + footstr;
                window.print();

                // document.body.innerHTML = headstr + newstr + footstr; //this part will print the IBADDIN as well.
                // console.log(document.body.innerHTML);
                // window.print();
                
                setTimeout(function() {
                                $('#myDIV').fadeOut('slow');
                            }, 4000);
                reloading();
                document.body.innerHTML = oldstr;
                return false;
                
            }
        </script>
        <script type = "text/javascript">
            function reloading()
            {       
                setTimeout(function() {
                    window.location.reload();
                }, 4000);
                $('#submit').prop('disabled',true);
            }
        </script>
    </head>
    <body>
        <div class="container">
            <div id="myDIV" style = "display: none">
                Sent to Print.
            </div>
            <h1>&#x2728;Company Names for Printing &#x2728;</h1>
            <div id="searchWrapper">
                <input
                    type = "text"
                    name = "searchBar"
                    class = "searchBar"
                    id="searchBar"
                    placeholder="search here"
                />
                <button class = "button-class" name="submit" id = "submit" type = "button" onclick="printing_php('charactersList');" disabled>Print</button>
                <script>
                    var input = document.getElementById("searchBar");
                    input.addEventListener("keyup", function(event) {
                        if (event.keyCode === 13) {
                            console.log("enter keypress testing")
                            document.getElementById("submit").click();
                        }
                    });
                </script>
            </div>
            <ul id="charactersList"></ul>
        </div>
        
        <script src="app.js"></script>
        
    </body>
    
</html>
